import React, { use, useCallback } from 'react';
import { isThenable } from '../../shared/lib/is-thenable';
export function useUnwrapState(state) {
    // reducer actions can be async, so sometimes we need to suspend until the state is resolved
    if (isThenable(state)) {
        const result = use(state);
        return result;
    }
    return state;
}
export function useReducer(actionQueue) {
    const [state, setState] = React.useState(actionQueue.state);
    const syncDevRenderIndicatorInDevelopment = useSyncDevRenderIndicatorInDevelopment();
    const dispatch = useCallback((action)=>{
        syncDevRenderIndicatorInDevelopment(()=>actionQueue.dispatch(action, setState));
    }, [
        actionQueue,
        syncDevRenderIndicatorInDevelopment
    ]);
    return [
        state,
        dispatch
    ];
}
const PASS_THROUGH = (fn)=>fn();
const useSyncDevRenderIndicatorInDevelopment = ()=>{
    if (process.env.NODE_ENV !== 'production') {
        const useSyncDevRenderIndicator = require('./react-dev-overlay/utils/dev-indicator/use-sync-dev-render-indicator').useSyncDevRenderIndicator;
        // eslint-disable-next-line react-hooks/rules-of-hooks
        const syncDevRenderIndicator = useSyncDevRenderIndicator();
        return syncDevRenderIndicator;
    } else {
        return PASS_THROUGH;
    }
};

//# sourceMappingURL=use-reducer.js.map